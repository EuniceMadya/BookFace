(window.webpackJsonpfront_end=window.webpackJsonpfront_end||[]).push([[0],{149:function(e,t,a){e.exports=a(204)},154:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(13),i=a.n(r),o=(a(154),a(121)),l=a(122),s=a(133),m=a(123),u=a(134),d=c.a.createContext({token:"default token",toggleToken:function(e){},userId:0,profilePic:"dummyPath",loggedIn:!1,setLoggedIn:function(){}}),f=a(3),b=a(29),p=a(61),g=a(7),E=a.n(g),h=a(268),v=a(258),j=a(43),O=a(273),x=a(259),w=a(250),k=a(265),y=a(248),I=a(207),N=a(131),S=a.n(N),C=a(266),_=a(267),D=a(102),T=a.n(D),P=a(130),z=a.n(P),A=a(244),H=a(124),B=a(270),L=a(246),U=a(247),V=a(251),F=a(255),R=a(253),W=a(254),M=a(252),K=a(256),G=a(51),J=a.n(G),q="http://ec2-13-239-93-96.ap-southeast-2.compute.amazonaws.com",Z=function(e,t,n,c){var r=a(96),i=r.enc.Utf8.parse("EVtZqpI8Hk6cuDSj"),o=r.enc.Utf8.parse("TuDKCpbRcbwAOOaF"),l={Param_to_change:"Password",New_value:r.AES.encrypt(e,i,{iv:o,mode:r.mode.CBC,padding:r.pad.Pkcs7}).toString(),User_ID:t};E()({url:"".concat(q,"/Homepage/set_user"),method:"post",data:l,headers:{Authorization:"Token ".concat(n)}}).then((function(){c()}))};var Q=Object(p.h)((function(e){var t=Object(n.useContext)(d),a=t.token,r=t.userId,i=Object(n.useState)(window.innerWidth),o=Object(f.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(!1),u=Object(f.a)(m,2),b=u[0],g=u[1],h=Object(n.useState)(""),v=Object(f.a)(h,2),O=v[0],x=v[1],w=Object(n.useState)(""),k=Object(f.a)(w,2),I=k[0],N=k[1],S=Object(n.useState)(""),C=Object(f.a)(S,2),_=C[0],D=C[1],T=Object(n.useState)("https://fun-group-bucket.s3-ap-southeast-2.amazonaws.com/blank-profile-picture.png"),P=Object(f.a)(T,2),z=P[0],G=P[1],Q=Object(n.useState)(!1),X=Object(f.a)(Q,2),Y=X[0],$=X[1],ee=Object(H.a)((function(e){return{content:{width:.8*(l-240)},card:{padding:e.spacing(2,3)},button:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},goBackFab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},profilePic:{margin:0,width:200,height:200}}}))(),te=c.a.createRef(),ae=function(){var e={User_ID:r};E()({url:"".concat(q,"/Homepage/get_user"),method:"post",data:e,headers:{Authorization:"Token ".concat(a)}}).then((function(e){N(e.data.username),G(e.data.profile_pic)}))};Object(n.useEffect)((function(){e.setViewName("Account Setting"),e.disableRedirect(),ae()}),[]),Object(n.useEffect)((function(){function e(){s(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var ne=function(){g(!0)},ce=function(){g(!1)};return c.a.createElement("div",null,c.a.createElement(A.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:2,style:{marginTop:"15vh"}},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h3"},"Hello,"," ",I,". This is settings")),c.a.createElement(A.a,{item:!0},c.a.createElement(L.a,{className:ee.card,style:{width:"100%",height:"120%"}},c.a.createElement(A.a,{continer:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:2},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:5,className:ee.content},c.a.createElement(A.a,{item:!0},c.a.createElement(U.a,{alt:"profile pic",src:z,className:ee.profilePic})),c.a.createElement(A.a,{item:!0,spacing:4},c.a.createElement("label",{htmlFor:"raised-button-file"},c.a.createElement("input",{accept:"image/*",className:ee.input,style:{display:"none"},id:"raised-button-file",type:"file",multiple:!1,onChange:function(e){var t=e.target,a=new FileReader,n=t.files[0];a.onload=function(e){G(e.target.result)},a.readAsDataURL(n)},ref:te}),c.a.createElement(y.a,{variant:"raised",component:"span",className:ee.button},"Upload profile picture")),c.a.createElement("p",{style:{marginLeft:"1vh"}},"Support file type: jpg, jpeg, png"),c.a.createElement(y.a,{onClick:function(){var e={Param_to_change:"Profile_pic",New_value:z,User_ID:r};E()({url:"".concat(q,"/Homepage/set_user"),method:"post",data:e,headers:{Authorization:"Token ".concat(a)}}).then((function(){ae(),ne()}))},className:ee.button},"Confirm")))),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{label:"User Name",value:O,onChange:function(e){x(e.target.value)},margin:"normal",variant:"outlined"})),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",onClick:function(){var e={Param_to_change:"Username",New_value:O,User_ID:r};E()({url:"".concat(q,"/Homepage/set_user"),method:"post",data:e,headers:{Authorization:"Token ".concat(a)}}).then((function(){ae(),ne()}))},className:ee.button},"Update User Name")))),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{label:"Password",value:_,onChange:function(e){D(e.target.value)},margin:"normal",variant:"outlined"})),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",onClick:function(){return Z(_,r,a,ne)},className:ee.button},"Update Password")))))))),c.a.createElement(V.a,{open:b,onClose:ce},c.a.createElement(M.a,null,"Details Updated"),c.a.createElement(R.a,null,c.a.createElement(W.a,null,"We have updated your details.")),c.a.createElement(F.a,null,c.a.createElement(y.a,{onClick:ce,color:"primary",autoFocus:!0},"OK"))),c.a.createElement(K.a,{variant:"extended","aria-label":"Go Back",className:ee.goBackFab,onClick:function(){e.disableRedirect(),$(!0)}},c.a.createElement(J.a,{className:ee.extendedIcon}),"Dashboard"),Y?c.a.createElement(p.a,{to:"/dashboard"}):c.a.createElement("div",null))})),X=a(12),Y=a.n(X),$=a(20),ee=a(257),te=a(132),ae=a(21),ne=a(269),ce=a(93),re=a(39),ie=a.n(re),oe=a(126),le=a.n(oe),se=a(272),me=a(34),ue=a.n(me),de=a(35),fe=a.n(de),be=a(36),pe=a.n(be),ge=a(37),Ee=a.n(ge),he=a(38),ve=a.n(he),je=a(47),Oe=a.n(je),xe=a(89),we=a.n(xe),ke=a(88),ye=a.n(ke),Ie=function(e,t,a,n){var c={BookClub_ID:parseInt(e,10),User_ID:parseInt(t,10)};E()({url:"".concat(q,"/Homepage/is_admin"),method:"post",data:c,headers:{Authorization:"Token ".concat(a)}}).then((function(e){n(e.data.isAdmin)}))};var Ne=function(){var e=Object(p.g)().clubId,t=Object(n.useContext)(d),a=t.token,r=t.userId,i=Object(n.useState)([[]]),o=Object(f.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(!1),u=Object(f.a)(m,2),b=u[0],g=u[1],h=Object(n.useState)(!1),v=Object(f.a)(h,2),O=v[0],x=v[1],w=Object(n.useState)(!1),k=Object(f.a)(w,2),I=k[0],N=k[1],S=Object(n.useState)(0),C=Object(f.a)(S,2),_=C[0],D=C[1],T=Object(n.useState)([]),P=Object(f.a)(T,2),z=P[0],L=P[1],U=Object(n.useState)(!0),W=Object(f.a)(U,2),G=W[0],J=W[1],Z=Object(n.useState)(""),Q=Object(f.a)(Z,2),X=Q[0],re=Q[1],oe=Object(n.useState)(new Date),me=Object(f.a)(oe,2),de=me[0],be=me[1],ge=Object(n.useState)(new Date),he=Object(f.a)(ge,2),je=he[0],xe=he[1],ke=Object(n.useState)(""),Ne=Object(f.a)(ke,2),Se=Ne[0],Ce=Ne[1],_e=Object(n.useState)(window.innerWidth),De=Object(f.a)(_e,2),Te=De[0],Pe=De[1],ze=Object(n.useState)(!1),Ae=Object(f.a)(ze,2),He=Ae[0],Be=Ae[1],Le=Object(n.useState)(!1),Ue=Object(f.a)(Le,2),Ve=Ue[0],Fe=Ue[1],Re=Object(n.useState)(!1),We=Object(f.a)(Re,2),Me=We[0],Ke=We[1],Ge=Object(n.useState)(!1),Je=Object(f.a)(Ge,2),qe=Je[0],Ze=Je[1],Qe=Object(n.useState)(!1),Xe=Object(f.a)(Qe,2),Ye=Xe[0],$e=Xe[1],et=Object(n.useState)(!1),tt=Object(f.a)(et,2),at=tt[0],nt=tt[1],ct=Object(n.useState)(!1),rt=Object(f.a)(ct,2),it=rt[0],ot=rt[1],lt=Object(H.a)((function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},clubHomeView:{paddingTop:20},forumLogo:{width:150,height:150},content:{width:.8*(Te-240)},activityPaper:{padding:e.spacing(3,2),width:(.8*(Te-240)-120)/3},attend:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)",width:100},going:{background:"linear-gradient(45deg, #d3e7ee 0%, #abd1dc 100%)",boxShadow:"0 3px 7px 1px rgba(197, 223, 231, .3)",width:100},goBackFab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},addMeetingBtn:{margin:0,top:"auto",right:20,bottom:80,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)",color:"black"}}})),st=function(e){var t=[];t.push([]);for(var a=0,n=0,c=0;c<e.length&&11!==a;c+=1){6===n&&(a+=1,n=0,t.push([])),t[a][n]=e[c];var r=t[a][n].Time.split("T"),i=r[1].split(":"),o="".concat(r[0]," ").concat(i[0],":").concat(i[1]);t[a][n].TimeStamp=o,n+=1}!function(e){for(var t=[],a=0;a<e.length;a+=1)t[a]=(a+1).toString();L(t)}(t),s(t)},mt=lt(),ut=function(t){var n={BookClub_ID:parseInt(e,10),User_ID:r};E()({url:"".concat(q,"/Homepage/get_").concat(t,"_meetings"),method:"post",data:n,headers:{Authorization:"Token ".concat(a)}}).then((function(e){st(e.data)}))};Object(n.useEffect)((function(){function t(){Pe(window.innerWidth)}return Ie(e,r,a,ot),ut("future"),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]);var dt=function(e,t){var n={Meeting_ID:e.Meeting_ID,User_ID:r};E()({url:"".concat(q,"/Homepage/").concat(t,"_meeting"),method:"post",data:n,headers:{Authorization:"Token ".concat(a)}}).then((function(){ut("future")}))},ft=function(){Be(!1),re(""),xe(new Date),be(new Date),Ce("")},bt=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={User_ID:parseInt(r,10),Meeting_ID:t},e.next=3,E()({url:"".concat(q,"/Homepage/delete_meeting"),method:"post",data:c,headers:{Authorization:"Token ".concat(a)}});case 3:return e.next=5,ut(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:mt.clubHomeView},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:10,className:mt.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:5,className:mt.content},c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:mt.fab,onClick:function(){Ke(!0)}},c.a.createElement(ue.a,{className:mt.extendedIcon}),"Home")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:mt.fab,onClick:function(){Ze(!0)}},c.a.createElement(fe.a,{className:mt.extendedIcon}),"Discussion")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:mt.fab,onClick:function(){$e(!0)}},c.a.createElement(pe.a,{className:mt.extendedIcon}),"Poll")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:mt.fab,style:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}},c.a.createElement(Ee.a,{className:mt.extendedIcon}),"Meeting")),it?c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:mt.fab,onClick:function(){nt(!0)}},c.a.createElement(ve.a,{className:mt.extendedIcon}),"Admin")):c.a.createElement(c.a.Fragment,null))),c.a.createElement(ee.a,{className:mt.content}),c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-end",style:{marginTop:40}},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:mt.fab,onClick:function(){ut("future"),D(0),J(!0)},style:G?{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}:{color:"default"}},c.a.createElement(ye.a,{className:mt.extendedIcon}),"Show Upcoming Meetings"),c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:mt.fab,onClick:function(){ut("past"),D(0),J(!1)},style:G?{color:"default"}:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}},c.a.createElement(we.a,{className:mt.extendedIcon}),"Show Previous Meetings")),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",spacing:5,className:mt.content},c.a.createElement(A.a,{item:!0},G?c.a.createElement(j.a,{variant:"h3"},"Upcoming Meetings"):c.a.createElement(j.a,{variant:"h3"},"Previous Meetings")),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:5},0!==l.length&&0!==l[_].length?l[_].map((function(e,t){return c.a.createElement(A.a,{key:t,item:!0},c.a.createElement(ce.a,{className:mt.activityPaper},c.a.createElement(A.a,{container:!0,direction:"column",justify:"space-between",alignItems:"flex-start",spacing:1},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h5"},e.Title),c.a.createElement(j.a,{variant:"subtitle2"},e.TimeStamp),c.a.createElement(j.a,{variant:"subtitle2"},"at ".concat(e.Location))),c.a.createElement(A.a,{container:!0,justify:"space-between"},c.a.createElement(A.a,{item:!0},it?c.a.createElement(y.a,{variant:"contained",value:t,onClick:function(){return bt(e.Meeting_ID,G?"future":"past")}},"Remove"):c.a.createElement("div",null)),c.a.createElement(A.a,{item:!0},G?c.a.createElement(A.a,{item:!0,style:{width:"100%"}},c.a.createElement(A.a,{container:!0,justify:"flex-end"},1===e.user_attendance?c.a.createElement(y.a,{variant:"contained",value:t,onClick:function(){return dt(e,"unattend")},className:mt.going},c.a.createElement(le.a,null)):c.a.createElement(y.a,{variant:"contained",onClick:function(){return dt(e,"attend")},value:t,className:mt.attend},"Attend"))):c.a.createElement(A.a,{item:!0,style:{width:"100%"}},c.a.createElement(A.a,{container:!0,justify:"flex-end"},1===e.user_attendance?c.a.createElement(y.a,{variant:"outlined",disabled:!0},"Attended"):c.a.createElement(y.a,{variant:"outlined",disabled:!0},"Did not Attend"))))))))})):c.a.createElement("div",null))),c.a.createElement(A.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"center",spacing:3},z.map((function(e,t){return c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:_===t?"primary":"default",onClick:function(){return function(e){D(e)}(t)}},e))}))))))),c.a.createElement(K.a,{variant:"extended","aria-label":"Go Back",className:mt.goBackFab,onClick:function(){Fe(!0)}},c.a.createElement(Oe.a,{className:mt.extendedIcon}),"Dashboard"),it?c.a.createElement(K.a,{color:"primary","aria-label":"add",className:mt.addMeetingBtn,onClick:function(){Be(!0)}},c.a.createElement(ie.a,null)):c.a.createElement("div",null),c.a.createElement(V.a,{open:He,onClose:ft},c.a.createElement(M.a,null,"New Meeting"),c.a.createElement(R.a,{style:{width:800}},c.a.createElement(B.a,{margin:"dense",label:"Book",type:"text",value:X,onChange:function(e){re(e.target.value)},fullWidth:!0,style:{width:550}}),c.a.createElement(B.a,{id:"date",label:"Meeting Date",type:"date",defaultValue:"2019-10-22",value:je,onChange:function(e){xe(e.target.value)},InputLabelProps:{shrink:!0},style:{width:550}}),c.a.createElement(ae.a,{utils:te.a},c.a.createElement(ne.a,{clearable:!0,id:"time",ampm:!1,label:"Meeting Time",defaultValue:"00:00",value:de,onChange:function(e){be(e)},KeyboardButtonProps:{"aria-label":"change time"}})),c.a.createElement(B.a,{margin:"dense",label:"Location",type:"text",value:Se,onChange:function(e){Ce(e.target.value)},fullWidth:!0,style:{width:550}})),c.a.createElement(F.a,null,c.a.createElement(y.a,{onClick:ft,color:"primary"},"Cancel"),c.a.createElement(y.a,{onClick:function(){if(""!==X)if("object"!==typeof je&&"object"!==de)if(""!==Se){var t=je.split("-").reverse().join("-"),n="".concat(de.getHours().toString(),":").concat(de.getMinutes().toString()),c={BookClub_ID:parseInt(e,10),User_ID:r,Location:Se,Title:X,Time:"".concat(t," ").concat(n)};E()({url:"".concat(q,"/Homepage/create_meeting"),method:"post",data:c,headers:{Authorization:"Token ".concat(a)}}).then((function(){ut("future"),J(!0)})),ft()}else N(!0);else x(!0);else g(!0)},color:"primary"},"Reply"))),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:b,onClose:function(){g(!1)},message:c.a.createElement("span",null,"Please enter Book title!")}),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:O,onClose:function(){x(!1)},message:c.a.createElement("span",null,"Please enter a date and time!")}),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:I,onClose:function(){N(!1)},message:c.a.createElement("span",null,"Please enter a location!")}),Ve?c.a.createElement(p.a,{to:"/dashboard"}):c.a.createElement("div",null),Me?c.a.createElement(p.a,{to:"/club/".concat(e)}):c.a.createElement("div",null),qe?c.a.createElement(p.a,{to:"/club/".concat(e,"/discussion")}):c.a.createElement("div",null),Ye?c.a.createElement(p.a,{to:"/club/".concat(e,"/poll")}):c.a.createElement("div",null),at&&it?c.a.createElement(p.a,{to:"/club/".concat(e,"/admin")}):c.a.createElement("div",null))},Se=a(99),Ce=a.n(Se),_e=a(80),De=a.n(_e);var Te=function(e){var t=Object(p.g)(),a=t.clubId,r=t.discuzId,i=t.threadTitle,o=Object(n.useContext)(d),l=o.token,s=o.userId,m=Object(n.useState)(""),u=Object(f.a)(m,2),b=u[0],g=u[1],h=Object(n.useState)(window.innerWidth),v=Object(f.a)(h,2),O=v[0],x=v[1],w=Object(n.useState)(!1),k=Object(f.a)(w,2),I=k[0],N=k[1],S=Object(n.useState)(!1),C=Object(f.a)(S,2),_=C[0],D=C[1],T=Object(n.useState)(!1),P=Object(f.a)(T,2),z=P[0],L=P[1],W=Object(n.useState)(!1),G=Object(f.a)(W,2),J=G[0],Z=G[1],Q=Object(n.useState)(!1),X=Object(f.a)(Q,2),te=X[0],ae=X[1],ne=Object(n.useState)(!1),re=Object(f.a)(ne,2),oe=re[0],le=re[1],me=Object(n.useState)(!1),de=Object(f.a)(me,2),be=de[0],ge=de[1],he=Object(n.useState)(!1),je=Object(f.a)(he,2),Oe=je[0],xe=je[1],we=Object(n.useState)([[]]),ke=Object(f.a)(we,2),ye=ke[0],Ne=ke[1],Se=Object(n.useState)(0),_e=Object(f.a)(Se,2),Te=_e[0],Pe=_e[1],ze=Object(n.useState)([]),Ae=Object(f.a)(ze,2),He=Ae[0],Be=Ae[1],Le=Object(n.useState)("https://fun-group-bucket.s3-ap-southeast-2.amazonaws.com/blank-profile-picture.png"),Ue=Object(f.a)(Le,2),Ve=Ue[0],Fe=Ue[1],Re=Object(H.a)((function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},clubHomeView:{paddingTop:20},forumLogo:{width:150,height:150},content:{width:.8*(O-240)},activityPaper:{padding:e.spacing(3,2)},goBackFab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},addComment:{margin:0,top:"auto",right:20,bottom:80,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)",color:"black"},deleteDiscuz:{margin:0,top:"auto",right:"auto",bottom:20,left:20,position:"fixed"}}}))();Object(n.useEffect)((function(){function e(){x(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){!function(){var e={User_ID:s};E()({url:"".concat(q,"/Homepage/get_user"),method:"post",data:e,headers:{Authorization:"Token ".concat(l)}}).then((function(e){Fe(e.data.profile_pic)}))}(),function(){var t={BookClub_ID:parseInt(a,10)};E()({url:"".concat(q,"/Homepage/get_single_bookclub"),method:"post",data:t,headers:{Authorization:"Token ".concat(l)}}).then((function(t){e.setViewName(t.data.Name)}))}()}),[]);var We=function(e){var t=[];t.push([]);for(var a=0,n=0,c=0;c<e.length&&11!==a;c+=1){5===n&&(a+=1,n=0,t.push([])),t[a][n]=e[c];var r=t[a][n].Time.split("T"),i=r[1].split(":"),o="".concat(r[0]," ").concat(i[0],":").concat(i[1]);t[a][n].TimeStamp=o,n+=1}!function(e){for(var t=[],a=0;a<e.length;a+=1)t[a]=(a+1).toString();Be(t)}(t),Ne(t)},Me=function(){var e={Discussion_ID:parseInt(r,10)};E()({url:"".concat(q,"/Homepage/get_discussion_threads"),method:"post",data:e,headers:{Authorization:"Token ".concat(l)}}).then((function(e){We(e.data.Threads)}))};Object(n.useEffect)((function(){Ie(a,s,l,ge),Me()}),[]);var Ke=function(){N(!1),g("")},Ge=function(){L(!0)},Je=function(){var e=Object($.a)(Y.a.mark((function e(){var t;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={User_ID:parseInt(s,10),Discussion_ID:r},e.next=3,E()({url:"".concat(q,"/Homepage/delete_discussion"),method:"post",data:t,headers:{Authorization:"Token ".concat(l)}});case 3:return e.next=5,L(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object($.a)(Y.a.mark((function e(t){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={User_ID:parseInt(s,10),Thread_ID:t},e.next=3,E()({url:"".concat(q,"/Homepage/delete_thread"),method:"post",data:a,headers:{Authorization:"Token ".concat(l)}});case 3:return e.next=5,Me();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:Re.clubHomeView},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:10,className:Re.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:5,className:Re.content},c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Re.fab,onClick:function(){Z(!0)}},c.a.createElement(ue.a,{className:Re.extendedIcon}),"Home")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Re.fab,style:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},onClick:Ge},c.a.createElement(fe.a,{className:Re.extendedIcon}),"Discussion")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Re.fab,onClick:function(){ae(!0)}},c.a.createElement(pe.a,{className:Re.extendedIcon}),"Poll")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Re.fab,onClick:function(){le(!0)}},c.a.createElement(Ee.a,{className:Re.extendedIcon}),"Meeting")),be?c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Re.fab,onClick:function(){xe(!0)}},c.a.createElement(ve.a,{className:Re.extendedIcon}),"Admin")):c.a.createElement(c.a.Fragment,null))),c.a.createElement(ee.a,{className:Re.content}),be?c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Re.deleteDiscuz,onClick:Je},c.a.createElement(De.a,{className:Re.extendedIcon}),"Delete Discussion"):c.a.createElement("div",null),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2,className:Re.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",spacing:3},ye[Te].map((function(e,t){return c.a.createElement(A.a,{item:!0,className:Re.content},c.a.createElement(ce.a,{className:Re.activityPaper},0===t&&0===Te?c.a.createElement("div",null,c.a.createElement(U.a,{alt:"profile pic",src:Ve,style:{marginBottom:20}}),c.a.createElement(j.a,{variant:"h3"},i),c.a.createElement(j.a,{variant:"subtitle1",style:{marginBottom:20}}," ","Originally Posted by"," ",e.User_ID.username," ","at"," ",e.TimeStamp),c.a.createElement(j.a,{variant:"p"},e.Content)):c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"space-between",alignItems:"flex-start",spacing:1},c.a.createElement(A.a,{item:!0},c.a.createElement(U.a,{alt:"profile pic",src:e.User_ID.profile_pic,style:{marginBottom:20}})),c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"p"},e.Content)),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"p"},"Author:"," ",e.User_ID.username)),c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"p"},"Date Posted:"," ",e.TimeStamp))))),c.a.createElement(A.a,{item:!0},be?c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Re.fab,onClick:function(){return qe(e.Thread_ID)}},c.a.createElement(De.a,{className:Re.extendedIcon}),"Remove"):c.a.createElement("div",null)))))})),c.a.createElement(A.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"center",spacing:3},He.map((function(e,t){return c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:Te===t?"primary":"default",onClick:function(){return function(e){Pe(e)}(t)}},e))}))))))))),c.a.createElement(K.a,{variant:"extended","aria-label":"Go Back",className:Re.goBackFab,onClick:Ge},c.a.createElement(Ce.a,{className:Re.extendedIcon}),"Go Back"),c.a.createElement(K.a,{color:"primary","aria-label":"add",className:Re.addComment,onClick:function(){N(!0)}},c.a.createElement(ie.a,null)),c.a.createElement(V.a,{open:I,onClose:Ke},c.a.createElement(M.a,null,"Reply"),c.a.createElement(R.a,{style:{width:800}},c.a.createElement(B.a,{label:"Reply",multiline:!0,rows:"7",margin:"normal",variant:"outlined",style:{width:550},value:b,onChange:function(e){g(e.target.value)},fullWidth:!0})),c.a.createElement(F.a,null,c.a.createElement(y.a,{onClick:Ke,color:"primary"},"Cancel"),c.a.createElement(y.a,{onClick:function(){if(""!==b){var e={User_ID:parseInt(s,10),Discussion_ID:parseInt(r,10),Content:b};E()({url:"".concat(q,"/Homepage/post_reply"),method:"post",data:e,headers:{Authorization:"Token ".concat(l)}}).then((function(){Me()})),Ke()}else D(!0)},color:"primary"},"Reply"))),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:_,onClose:function(){D(!1)},message:c.a.createElement("span",null,"Empty Reply!")}),J?c.a.createElement(p.a,{to:"/club/".concat(a)}):c.a.createElement("div",null),z?c.a.createElement(p.a,{to:"/club/".concat(a,"/discussion")}):c.a.createElement("div",null),te?c.a.createElement(p.a,{to:"/club/".concat(a,"/poll")}):c.a.createElement("div",null),oe?c.a.createElement(p.a,{to:"/club/".concat(a,"/meeting")}):c.a.createElement("div",null),Oe&&be?c.a.createElement(p.a,{to:"/club/".concat(a,"/admin")}):c.a.createElement("div",null))},Pe=a(90),ze=a.n(Pe),Ae=function(e,t,n,c,r,i){var o=a(96),l=o.enc.Utf8.parse("EVtZqpI8Hk6cuDSj"),s=o.enc.Utf8.parse("TuDKCpbRcbwAOOaF"),m=o.AES.encrypt(t,l,{iv:s,mode:o.mode.CBC,padding:o.pad.Pkcs7}).toString();E.a.post("".concat(q,"/Homepage/login"),{email:e,password:m}).then((function(e){r(e.data),n(),i(!0)})).catch((function(){c()}))};var He=function(e){var t=Object(n.useContext)(d),r=t.toggleToken,i=t.setloggedIn,o=Object(n.useState)(""),l=Object(f.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(""),b=Object(f.a)(u,2),g=b[0],h=b[1],v=Object(n.useState)(""),j=Object(f.a)(v,2),O=j[0],w=j[1],k=Object(n.useState)(""),I=Object(f.a)(k,2),N=I[0],S=I[1],C=Object(n.useState)(!1),_=Object(f.a)(C,2),D=_[0],T=_[1],P=Object(n.useState)(!1),z=Object(f.a)(P,2),H=z[0],U=z[1],V=Object(n.useState)(!1),F=Object(f.a)(V,2),R=F[0],W=F[1],M=Object(n.useState)(!1),K=Object(f.a)(M,2),G=K[0],J=K[1];Object(n.useEffect)((function(){e.setViewName("Register")}),[]);var Z=function(){W(!0)};return c.a.createElement("div",{className:"RegisterView"},c.a.createElement(x.a,null),c.a.createElement(A.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:"3vh"}},c.a.createElement(A.a,{item:!0},c.a.createElement(L.a,{style:{width:550,height:710}},c.a.createElement(A.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:2,style:{marginTop:35}},c.a.createElement(A.a,{item:!0},c.a.createElement("img",{src:ze.a,width:"150",height:"150"})),c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{id:"email",label:"Email",className:"textField",value:s,onChange:function(e){m(e.target.value)},margin:"normal",variant:"outlined",style:{width:400}})),c.a.createElement(B.a,{id:"userName",label:"User Name",className:"textField",value:g,onChange:function(e){h(e.target.value)},margin:"normal",variant:"outlined",style:{width:400}}),c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{id:"password",label:"Password",type:"password",className:"textField",value:O,onChange:function(e){w(e.target.value)},margin:"normal",variant:"outlined",style:{width:400}})),c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{id:"confirmPassword",label:"Confirm Password",type:"password",className:"textField",value:N,onChange:function(e){S(e.target.value)},margin:"normal",variant:"outlined",style:{width:400}})),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){if(N!==O)T(!0);else{var e=a(96),t=e.enc.Utf8.parse("EVtZqpI8Hk6cuDSj"),n=e.enc.Utf8.parse("TuDKCpbRcbwAOOaF"),c=e.AES.encrypt(O,t,{iv:n,mode:e.mode.CBC,padding:e.pad.Pkcs7}).toString();E.a.post("".concat(q,"/Homepage/register"),{username:g,email:s,password:c}).then((function(){Ae(s,O,Z,null,r,i)})).catch((function(){J(!0)}))}},style:{background:"linear-gradient(45deg, #ff9190 0%, #fdc094 100%)",boxShadow:"0 3px 7px 1px rgba(255, 105, 135, .3)",width:400}},"Join!")),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:function(){U(!0)},style:{width:400}},"Already have an account? Login!")))))),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:D,onClose:function(){T(!1)},message:c.a.createElement("span",null,"Oh no! Passwords do not match.")}),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:G,onClose:function(){J(!1)},message:c.a.createElement("span",null,"Something went wrong.")}),H?c.a.createElement(p.a,{to:"/login"}):c.a.createElement("div",null),R?c.a.createElement(p.a,{to:"/dashboard"}):c.a.createElement("div",null))},Be=a(81),Le=a(127),Ue=a.n(Le),Ve=a(261),Fe=a(262),Re=a(260),We=Object(H.a)((function(){return{media:{height:60,paddingTop:"70%"},avatar:{background:"radial-gradient( circle farthest-corner at 10% 20%,  rgba(75,108,183,1) 0%, rgba(55,82,141,1) 90% )"},button:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},profilePic:{marginLeft:50,marginRight:80,width:80,height:80},addClub:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}}}));var Me=Object(p.h)((function(e){var t=Object(n.useContext)(d),a=t.token,r=t.userId,i=We(),o=c.a.createRef();Object(n.useEffect)((function(){e.setViewName("Dashboard"),e.history.length=0}),[]);var l=Object(n.useState)(!1),s=Object(f.a)(l,2),m=s[0],u=s[1],b=Object(n.useState)(0),g=Object(f.a)(b,2),h=g[0],v=g[1],O=Object(n.useState)(""),x=Object(f.a)(O,2),k=x[0],I=x[1],N=Object(n.useState)([]),S=Object(f.a)(N,2),C=S[0],_=S[1],D=Object(n.useState)(0),T=Object(f.a)(D,2),P=T[0],z=T[1],H=Object(n.useState)([[]]),W=Object(f.a)(H,2),G=W[0],J=W[1],Z=Object(n.useState)(!1),Q=Object(f.a)(Z,2),X=Q[0],ee=Q[1],te=Object(n.useState)(""),ae=Object(f.a)(te,2),ne=ae[0],ce=ae[1],re=Object(n.useState)(""),oe=Object(f.a)(re,2),le=oe[0],se=oe[1],me=Object(n.useState)([]),ue=Object(f.a)(me,2),de=ue[0],fe=ue[1],be=Object(n.useState)("https://fun-group-bucket.s3-ap-southeast-2.amazonaws.com/blank-profile-picture.png"),pe=Object(f.a)(be,2),ge=pe[0],Ee=pe[1],he=Object(n.useState)(window.innerWidth),ve=Object(f.a)(he,2),je=ve[0],Oe=ve[1],xe=Object(n.useState)(!1),we=Object(f.a)(xe,2),ke=we[0],ye=we[1];Object(n.useEffect)((function(){function e(){Oe(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){(function(){var e=Object($.a)(Y.a.mark((function e(){var t,n,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:parseInt(r,10)},e.next=3,E()({url:"".concat(q,"/Homepage/get_book_clubs"),method:"post",data:t,headers:{Authorization:"Token ".concat(a)}});case 3:n=e.sent,(c=[]).push(n.data),J(c),ye(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Ie=function(e){var t=[];t.push([]);for(var a=0,n=0,c=0;c<e.length&&11!==a;c+=1)t[a][n]=e[c],6===(n+=1)&&(a+=1,n=0,t.push([]));console.log(t),function(e){for(var t=[],a=0;a<e.length;a+=1)t[a]=(a+1).toString();_(t)}(t),J(t)},Ne=function(){var e=Object($.a)(Y.a.mark((function e(t){var n,c,i,o;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(0),""!==t){e.next=6;break}(function(){var e=Object($.a)(Y.a.mark((function e(){var t,n,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:parseInt(r,10)},e.next=3,E()({url:"".concat(q,"/Homepage/get_book_clubs"),method:"post",data:t,headers:{Authorization:"Token ".concat(a)}});case 3:n=e.sent,(c=[]).push(n.data),J(c),ye(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),e.next=14;break;case 6:for(n=t.split(","),c=0;c<n.length;c+=1)n[c]=n[c].trim(" ");return i={Tags:n},e.next=11,E()({url:"".concat(q,"/Homepage/search_book_clubs"),method:"post",data:i,headers:{Authorization:"Token ".concat(a)}});case 11:o=e.sent,Ie(o.data),ye(!0);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=de;e.push(le),fe(e),se("")},Ce=function(){ee(!1),ce(""),se(""),fe([])};return c.a.createElement("div",{className:"DashBoardView"},c.a.createElement(A.a,{container:!0,direction:"row",alignItems:"center",justify:"center",spacing:2,style:{marginTop:40}},c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{id:"searchbar",label:"Search by Tag",className:"searchbar",margin:"normal",onChange:function(e){I(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&Ne(k)},variant:"outlined",InputProps:{style:{fontSize:20}},InputLabelProps:{style:{fontSize:25}},style:{width:600}})),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:"default",onClick:function(){return Ne(k)},style:{width:50,height:60,marginTop:5,marginLeft:10}},c.a.createElement(Ue.a,null)))),c.a.createElement(A.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:3,style:{marginTop:30}},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,justify:"flex-start",style:{width:.9*(je-240)}},c.a.createElement(j.a,{variant:"h3"},ke?"Search Results":"My Favourite Clubs"))),c.a.createElement(A.a,{style:{width:.9*(je-240)}},c.a.createElement(w.a,null,c.a.createElement(A.a,{container:!0,direction:"row",alignItems:"space-evenly",justify:"center",spacing:3},G[P].map((function(e){return c.a.createElement(A.a,{item:!0},c.a.createElement(Be.a,{onClick:function(){return t=e.BookClub_ID,v(t),void u(!0);var t}},c.a.createElement(L.a,{style:{width:340,height:300}},c.a.createElement(Re.a,null,c.a.createElement(Ve.a,{avatar:c.a.createElement(U.a,{"aria-label":"BookClub",className:i.avatar},e.Name.charAt(0)),title:c.a.createElement(j.a,{variant:"body2",color:"textPrimary",component:"p"},e.Name)}),c.a.createElement(Fe.a,{className:i.media,image:e.Profile_Pic})))))})))))),c.a.createElement(w.a,null,c.a.createElement(A.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"center",spacing:3,style:{marginTop:30}},ke?C.map((function(e,t){return c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:P===t?"primary":"default",onClick:function(){return function(e){z(e)}(t)}},e))})):c.a.createElement("div",null))),c.a.createElement(V.a,{open:X,onClose:Ce},c.a.createElement(M.a,null,"New Club"),c.a.createElement(R.a,{style:{width:800}},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:5,className:i.content},c.a.createElement(A.a,{item:!0},c.a.createElement(U.a,{alt:"profile pic",src:ge,className:i.profilePic})),c.a.createElement(A.a,{item:!0,spacing:4},c.a.createElement("input",{accept:"image/*",className:i.input,style:{display:"none"},id:"raised-button-file",type:"file",multiple:!1,onChange:function(e){var t=e.target,a=new FileReader,n=t.files[0];a.onload=function(e){Ee(e.target.result)},a.readAsDataURL(n)},ref:o}),c.a.createElement("label",{htmlFor:"raised-button-file"},c.a.createElement(y.a,{variant:"raised",component:"span",className:i.button},"Upload profile picture")),c.a.createElement("p",{style:{marginLeft:"1vh"}},"Support file type: jpg, jpeg, png")))),c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",spacing:1},c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{margin:"dense",label:"Name",type:"text",value:ne,onChange:function(e){ce(e.target.value)},fullWidth:!0,style:{width:550}})),c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{margin:"dense",label:"Tag",type:"text",value:le,onChange:function(e){se(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&Se()},fullWidth:!0,style:{width:550}})),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:Se,className:i.margin},c.a.createElement(ie.a,{fontSize:"inherit"}))),c.a.createElement(A.a,{item:!0},de.map((function(e,t){return c.a.createElement(j.a,null,"".concat(t,". ").concat(e))}))))),c.a.createElement(F.a,null,c.a.createElement(y.a,{onClick:Ce,color:"primary"},"Cancel"),c.a.createElement(y.a,{onClick:function(){var e={Name:ne,Profile_Pic:ge,Tags:de,User_ID:r};E()({url:"".concat(q,"/Homepage/create_book_club"),method:"post",data:e,headers:{Authorization:"Token ".concat(a)}}).then((function(){var e=de.join(", ");Ne(e)})),Ce()},color:"primary"},"Post"))),c.a.createElement(K.a,{className:i.addClub,onClick:function(){ee(!0)}},c.a.createElement(ie.a,null)),m?c.a.createElement(p.a,{to:"/club/".concat(h)}):c.a.createElement("div",null))}));var Ke=function(e){var t=Object(n.useContext)(d).setloggedIn,a=Object(n.useState)(""),r=Object(f.a)(a,2),i=r[0],o=r[1],l=Object(n.useState)(""),s=Object(f.a)(l,2),m=s[0],u=s[1],b=Object(n.useState)(!1),g=Object(f.a)(b,2),E=g[0],h=g[1],v=Object(n.useState)(!1),j=Object(f.a)(v,2),O=j[0],x=j[1],w=Object(n.useState)(!1),k=Object(f.a)(w,2),I=k[0],N=k[1];Object(n.useEffect)((function(){e.setViewName("Login")}),[e]);var S=function(){N(!0)},C=function(e){o(e.target.value)},_=function(e){u(e.target.value)},D=function(){h(!0)};return c.a.createElement("div",{className:"LoginView"},c.a.createElement(A.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{marginTop:"15vh"}},c.a.createElement(A.a,{item:!0},c.a.createElement(L.a,{style:{width:550,height:550}},c.a.createElement(A.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:2,style:{marginTop:40}},c.a.createElement(A.a,{item:!0},c.a.createElement("img",{src:ze.a,width:"150",height:"150"})),c.a.createElement(A.a,{item:!0},c.a.createElement(d.Consumer,null,(function(e){var a=e.toggleToken;return c.a.createElement(B.a,{id:"email",label:"Email",className:"textField",value:i,onChange:C,onKeyPress:function(e){"Enter"===e.key&&Ae(i,m,S,D,a,t)},margin:"normal",variant:"outlined",style:{width:400}})}))),c.a.createElement(A.a,{item:!0},c.a.createElement(d.Consumer,null,(function(e){var a=e.toggleToken;return c.a.createElement(B.a,{id:"password",label:"Password",type:"password",className:"textField",value:m,onChange:_,onKeyPress:function(e){"Enter"===e.key&&Ae(i,m,S,D,a,t)},margin:"normal",variant:"outlined",style:{width:400}})}))),c.a.createElement(A.a,{item:!0},c.a.createElement(d.Consumer,null,(function(e){var a=e.toggleToken;return c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){Ae(i,m,S,D,a,t)},style:{background:"linear-gradient(45deg, #ff9190 0%, #fdc094 100%)",boxShadow:"0 3px 7px 1px rgba(255, 105, 135, .3)",width:280,marginRight:20}},"Login!")})),c.a.createElement(y.a,{variant:"outlined",color:"primary",onClick:function(){x(!0)},style:{width:100}},"Register")))))),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:E,onClose:function(){h(!1)},message:c.a.createElement("span",null,"Invalid login!")}),O?c.a.createElement(p.a,{to:"/register"}):c.a.createElement("div",null),I?c.a.createElement(p.a,{to:"/dashboard"}):c.a.createElement("div",null))},Ge=a(129),Je=a.n(Ge),qe=a(128),Ze=a.n(qe);var Qe=Object(p.h)((function(e){var t=Object(p.g)().clubId,a=Object(n.useContext)(d),r=a.token,i=a.userId,o=Object(n.useState)([]),l=Object(f.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)([]),b=Object(f.a)(u,2),g=b[0],h=b[1],v=Object(n.useState)(window.innerWidth),O=Object(f.a)(v,2),x=O[0],w=O[1],k=Object(n.useState)(!1),y=Object(f.a)(k,2),I=y[0],N=y[1],S=Object(n.useState)(!1),C=Object(f.a)(S,2),_=C[0],D=C[1],T=Object(n.useState)(!1),P=Object(f.a)(T,2),z=P[0],B=P[1],L=Object(n.useState)(!1),U=Object(f.a)(L,2),V=U[0],F=U[1],R=Object(n.useState)(!1),W=Object(f.a)(R,2),M=W[0],G=W[1],J=Object(n.useState)(!1),Z=Object(f.a)(J,2),Q=Z[0],X=Z[1],te=Object(n.useState)(""),ae=Object(f.a)(te,2),ne=ae[0],re=ae[1],ie=Object(n.useState)(t),oe=Object(f.a)(ie,2),le=oe[0],me=(oe[1],Object(n.useState)(!1)),de=Object(f.a)(me,2),be=de[0],ge=de[1],he=Object(n.useState)(!1),je=Object(f.a)(he,2),xe=je[0],we=je[1],ke=Object(n.useState)("https://fun-group-bucket.s3-ap-southeast-2.amazonaws.com/blank-profile-picture.png"),ye=Object(f.a)(ke,2),Ne=ye[0],Se=ye[1],Ce=Object(n.useState)(!1),_e=Object(f.a)(Ce,2),De=_e[0],Te=_e[1],Pe=Object(H.a)((function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},clubHomeView:{paddingTop:20},forumLogo:{width:150,height:150},content:{width:.8*(x-240)},activityPaper:{padding:e.spacing(3,2)},goBackFab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}}}))();Object(n.useEffect)((function(){function e(){w(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){(function(){var e=Object($.a)(Y.a.mark((function e(){var a,n,c,i,o,l,s,u;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={BookClub_ID:parseInt(t,10)},e.next=3,E()({url:"".concat(q,"/Homepage/get_discussions"),method:"post",data:a,headers:{Authorization:"Token ".concat(r)}});case 3:return n=e.sent,c=n.data,e.next=7,E()({url:"".concat(q,"/Homepage/get_current_polls"),method:"post",data:a,headers:{Authorization:"Token ".concat(r)}});case 7:for(n=e.sent,i=n.data,o=[],l=[],s=0;s<Math.min(5,c.length);s+=1)o.push("New Discussion: ".concat(c[s].Title)),l.push("Posted by ".concat(c[s].User_ID.username));for(u=0;u<Math.min(5,i.length);u+=1)o.push("New Poll: ".concat(i[u].Title)),l.push("Ending by ".concat(i[u].End_Time));m(o),h(l);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var ze=function(){var e={id:parseInt(i,10)};E()({url:"".concat(q,"/Homepage/get_book_clubs"),method:"post",data:e,headers:{Authorization:"Token ".concat(r)}}).then((function(e){for(var a=0;a<e.data.length;a+=1)if(e.data[a].BookClub_ID===parseInt(t,10)){we(!0);break}}))};Object(n.useEffect)((function(){!function(){var a={BookClub_ID:parseInt(t,10)};E()({url:"".concat(q,"/Homepage/get_single_bookclub"),method:"post",data:a,headers:{Authorization:"Token ".concat(r)}}).then((function(t){e.setViewName(t.data.Name),Se(t.data.Profile_Pic),re(t.data.Name),ge(t.data.Open)}))}(),ze(),Ie(t,i,r,G)}),[]);var Ae=function(){N(!0)},He=function(){Te(!0)};return c.a.createElement("div",{className:Pe.clubHomeView},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:10,className:Pe.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:5,className:Pe.content},c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Pe.fab,style:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}},c.a.createElement(ue.a,{className:Pe.extendedIcon}),"Home")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Pe.fab,onClick:function(){D(!0)}},c.a.createElement(fe.a,{className:Pe.extendedIcon}),"Discussion")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Pe.fab,onClick:function(){B(!0)}},c.a.createElement(pe.a,{className:Pe.extendedIcon}),"Poll")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Pe.fab,onClick:function(){F(!0)}},c.a.createElement(Ee.a,{className:Pe.extendedIcon}),"Meeting")),M?c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Pe.fab,onClick:function(){X(!0)}},c.a.createElement(ve.a,{className:Pe.extendedIcon}),"Admin")):c.a.createElement(c.a.Fragment,null))),c.a.createElement(ee.a,{className:Pe.content}),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start",spacing:2,className:Pe.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2,className:Pe.content},c.a.createElement(A.a,{item:!0},c.a.createElement("img",{src:Ne,className:Pe.forumLogo})),c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h3"},"Welcome to"," ",ne,"!")))),c.a.createElement(A.a,{item:!0},!xe&&be?c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Pe.fab,onClick:function(){var e={BookClub_ID:parseInt(t,10),User_ID:i};E()({url:"".concat(q,"/Homepage/join_book_club"),method:"post",data:e,headers:{Authorization:"Token ".concat(r)}}).then((function(){ze()})).catch((function(){He()}))},style:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}},c.a.createElement(Ze.a,{className:Pe.extendedIcon}),"Join club!"):xe?c.a.createElement(K.a,{variant:"outlined","aria-label":"delete",onClick:function(){var e={BookClub_ID:parseInt(t,10),User_ID:i};E()({url:"".concat(q,"/Homepage/leave_club"),method:"post",data:e,headers:{Authorization:"Token ".concat(r)}}).then((function(){ze()})).catch((function(){He()})),Ae()}},c.a.createElement(Je.a,{className:Pe.extendedIcon}),"Leave club!"):c.a.createElement("div",null)))),c.a.createElement(ee.a,{className:Pe.content}),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2,className:Pe.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",spacing:3},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h3"},"Activities")),s.map((function(e,t){return c.a.createElement(A.a,{item:!0,className:Pe.content},c.a.createElement(ce.a,{className:Pe.activityPaper},c.a.createElement(j.a,{variant:"h6"},e),c.a.createElement(j.a,{component:"p"},g[t])))})))))))),c.a.createElement(K.a,{variant:"extended","aria-label":"Go Back",className:Pe.goBackFab,onClick:Ae},c.a.createElement(Oe.a,{className:Pe.extendedIcon}),"Dashboard"),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:De,onClose:function(){Te(!1)},message:c.a.createElement("span",null,"Sorry, this club is closed to new members!")}),I?c.a.createElement(p.a,{to:"/dashboard"}):c.a.createElement("div",null),_?c.a.createElement(p.a,{to:"/club/".concat(t,"/discussion")}):c.a.createElement("div",null),z?c.a.createElement(p.a,{to:"/club/".concat(t,"/poll")}):c.a.createElement("div",null),V?c.a.createElement(p.a,{to:"/club/".concat(t,"/meeting")}):c.a.createElement("div",null),Q&&M?c.a.createElement(p.a,{to:"/club/".concat(t,"/admin")}):c.a.createElement("div",null),t!==le?c.a.createElement(p.a,{to:"/club/".concat(t)}):c.a.createElement("div",null))}));var Xe=function(e){var t=Object(p.g)().clubId,a=Object(n.useContext)(d),r=a.token,i=a.userId,o=Object(n.useState)(!1),l=Object(f.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(window.innerWidth),b=Object(f.a)(u,2),g=b[0],h=b[1],v=Object(n.useState)(!1),O=Object(f.a)(v,2),x=O[0],w=O[1],k=Object(n.useState)(""),I=Object(f.a)(k,2),N=I[0],S=I[1],C=Object(n.useState)(""),_=Object(f.a)(C,2),D=_[0],T=_[1],P=Object(n.useState)(!1),z=Object(f.a)(P,2),L=z[0],U=z[1],W=Object(n.useState)(!1),G=Object(f.a)(W,2),J=G[0],Z=G[1],Q=Object(n.useState)(!1),X=Object(f.a)(Q,2),te=X[0],ae=X[1],ne=Object(n.useState)(!1),re=Object(f.a)(ne,2),oe=re[0],le=re[1],me=Object(n.useState)([]),de=Object(f.a)(me,2),be=de[0],ge=de[1],he=Object(n.useState)([[]]),je=Object(f.a)(he,2),xe=je[0],we=je[1],ke=Object(n.useState)(0),ye=Object(f.a)(ke,2),Ne=ye[0],Se=ye[1],Ce=Object(n.useState)(0),_e=Object(f.a)(Ce,2),De=_e[0],Te=_e[1],Pe=Object(n.useState)(!1),ze=Object(f.a)(Pe,2),Ae=ze[0],He=ze[1],Be=Object(n.useState)(!1),Le=Object(f.a)(Be,2),Ue=Le[0],Ve=Le[1],Fe=Object(n.useState)(!1),Re=Object(f.a)(Fe,2),We=Re[0],Me=Re[1],Ke=Object(n.useState)(!1),Ge=Object(f.a)(Ke,2),Je=(Ge[0],Ge[1],Object(n.useState)("")),qe=Object(f.a)(Je,2),Ze=qe[0],Qe=qe[1],Xe=Object(H.a)((function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},clubHomeView:{paddingTop:20},forumLogo:{width:150,height:150},content:{width:.8*(g-240)},activityPaper:{padding:e.spacing(3,2),background:"white","&:hover":{background:"#eeeeee"}},goBackFab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},addDiscussion:{margin:0,top:"auto",right:20,bottom:80,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)",color:"black"}}}))();Object(n.useEffect)((function(){function e(){h(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var Ye=function(){m(!0)},$e=function(){var a=Object($.a)(Y.a.mark((function a(){var n,c;return Y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={BookClub_ID:parseInt(t,10)},a.next=3,E()({url:"".concat(q,"/Homepage/get_single_bookclub"),method:"post",data:n,headers:{Authorization:"Token ".concat(r)}});case 3:c=a.sent,e.setViewName(c.data.Name);case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),et=function(e){for(var t=[],a=0;a<e.length;a+=1)t[a]=(a+1).toString();ge(t)},tt=function(){var e=Object($.a)(Y.a.mark((function e(t){var a,n,c,i,o,l,s,m;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=[]).push([]),n=0,c=0,i=0;case 5:if(!(i<t.length)){e.next=23;break}if(11!==n){e.next=8;break}return e.abrupt("break",23);case 8:return 4===c&&(n+=1,c=0,a.push([])),a[n][c]=t[i],o=a[n][c].Time.split("T"),l=o[1].split(":"),s="".concat(o[0]," ").concat(l[0],":").concat(l[1]),a[n][c].TimeStamp=s,a[n][c].content="",e.next=17,E()({url:"".concat(q,"/Homepage/get_discussion_threads"),method:"post",data:{Discussion_ID:parseInt(a[n][c].Discussion_ID,10)},headers:{Authorization:"Token ".concat(r)}});case 17:(m=e.sent).data.Threads.length>1&&(a[n][c].content=m.data.Threads[0].Content),c+=1;case 20:i+=1,e.next=5;break;case 23:et(a),we(a);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),at=function(){var e=Object($.a)(Y.a.mark((function e(){var a,n;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={BookClub_ID:parseInt(t,10)},e.next=3,E()({url:"".concat(q,"/Homepage/get_discussions"),method:"post",data:a,headers:{Authorization:"Token ".concat(r)}});case 3:return n=e.sent,e.next=6,tt(n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object($.a)(Y.a.mark((function e(){return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$e();case 2:return e.next=4,Ie(t,i,r,Ve);case 4:return e.next=6,at();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var nt=function(){w(!1),S(""),T("")},ct=function(){var e=Object($.a)(Y.a.mark((function e(){var a;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==D){e.next=3;break}return Ye(),e.abrupt("return");case 3:if(""!==N){e.next=6;break}return Ye(),e.abrupt("return");case 6:return a={Title:D,BookClub_ID:parseInt(t,10),User_ID:i,Content:N},e.next=9,E()({url:"".concat(q,"/Homepage/post_discussion"),method:"post",data:a,headers:{Authorization:"Token ".concat(r)}}).then((function(){at()}));case 9:nt();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:Xe.clubHomeView},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:10,className:Xe.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:5,className:Xe.content},c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Xe.fab,onClick:function(){Z(!0)}},c.a.createElement(ue.a,{className:Xe.extendedIcon}),"Home")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Xe.fab,style:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}},c.a.createElement(fe.a,{className:Xe.extendedIcon}),"Discussion")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Xe.fab,onClick:function(){ae(!0)}},c.a.createElement(pe.a,{className:Xe.extendedIcon}),"Poll")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Xe.fab,onClick:function(){le(!0)}},c.a.createElement(Ee.a,{className:Xe.extendedIcon}),"Meeting")),Ue?c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:Xe.fab,onClick:function(){Me(!0)}},c.a.createElement(ve.a,{className:Xe.extendedIcon}),"Admin")):c.a.createElement(c.a.Fragment,null))),c.a.createElement(ee.a,{className:Xe.content}),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"flex-start",spacing:2,className:Xe.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",spacing:3},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h3"},"Discussion")),xe[Ne].map((function(e){return c.a.createElement(A.a,{item:!0,className:Xe.content},c.a.createElement(ce.a,{className:Xe.activityPaper},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",onClick:function(){return t=e.Discussion_ID,a=e.Title,Te(t),Qe(a),void He(!0);var t,a}},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h6"},e.Title)),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"p"},"Author:"," ",e.User_ID.username)),c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"p"},"Date Posted:"," ",e.TimeStamp))))))})),c.a.createElement(A.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"center",spacing:3},be.map((function(e,t){return c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:Ne===t?"primary":"default",onClick:function(){return function(e){Se(e)}(t)}},e))}))))))))),c.a.createElement(K.a,{color:"primary","aria-label":"add",className:Xe.addDiscussion,onClick:function(){w(!0)}},c.a.createElement(ie.a,null)),c.a.createElement(K.a,{variant:"extended","aria-label":"Go Back",className:Xe.goBackFab,onClick:function(){U(!0)}},c.a.createElement(Oe.a,{className:Xe.extendedIcon}),"Dashboard"),c.a.createElement(V.a,{open:x,onClose:nt},c.a.createElement(M.a,null,"New Discussion"),c.a.createElement(R.a,{style:{width:800}},c.a.createElement(B.a,{margin:"dense",label:"Title",type:"text",value:D,onChange:function(e){T(e.target.value)},fullWidth:!0,style:{width:550}}),c.a.createElement(B.a,{label:"Description",multiline:!0,rows:"7",margin:"normal",variant:"outlined",style:{width:550},value:N,onChange:function(e){S(e.target.value)},fullWidth:!0})),c.a.createElement(F.a,null,c.a.createElement(y.a,{onClick:nt,color:"primary"},"Cancel"),c.a.createElement(y.a,{onClick:ct,color:"primary"},"Post"))),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:s,onClose:function(){m(!1)},message:c.a.createElement("span",null,"Empty Title or Description!")}),L?c.a.createElement(p.a,{to:"/dashboard"}):c.a.createElement("div",null),J?c.a.createElement(p.a,{to:"/club/".concat(t)}):c.a.createElement("div",null),te?c.a.createElement(p.a,{to:"/club/".concat(t,"/poll")}):c.a.createElement("div",null),oe?c.a.createElement(p.a,{to:"/club/".concat(t,"/meeting")}):c.a.createElement("div",null),Ae?c.a.createElement(p.a,{to:"/club/".concat(t,"/discussion/").concat(De,"/").concat(Ze)}):c.a.createElement("div",null),We&&Ue?c.a.createElement(p.a,{to:"/club/".concat(t,"/admin")}):c.a.createElement("div",null))},Ye=a(271);var $e=function(){var e=Object(p.g)().clubId,t=Object(n.useContext)(d),a=t.token,r=t.userId,i=Object(n.useState)({Polls:[[]],Options:[[]]}),o=Object(f.a)(i,2),l=o[0],s=o[1],m=Object(n.useState)(!1),u=Object(f.a)(m,2),b=u[0],g=u[1],h=Object(n.useState)(!1),v=Object(f.a)(h,2),O=v[0],x=v[1],w=Object(n.useState)(!1),k=Object(f.a)(w,2),I=k[0],N=k[1],S=Object(n.useState)(!1),C=Object(f.a)(S,2),_=C[0],D=C[1],T=Object(n.useState)([]),P=Object(f.a)(T,2),z=P[0],L=P[1],U=Object(n.useState)(""),W=Object(f.a)(U,2),G=W[0],Z=W[1],Q=Object(n.useState)(""),X=Object(f.a)(Q,2),te=X[0],ae=X[1],ne=Object(n.useState)(new Date),re=Object(f.a)(ne,2),oe=re[0],le=re[1],me=Object(n.useState)(window.innerWidth),de=Object(f.a)(me,2),be=de[0],ge=de[1],he=Object(n.useState)(!1),je=Object(f.a)(he,2),xe=je[0],ke=je[1],Ne=Object(n.useState)(!1),Se=Object(f.a)(Ne,2),Ce=Se[0],_e=Se[1],Te=Object(n.useState)(!1),Pe=Object(f.a)(Te,2),ze=Pe[0],Ae=Pe[1],He=Object(n.useState)(!1),Be=Object(f.a)(He,2),Le=Be[0],Ue=Be[1],Ve=Object(n.useState)(!1),Fe=Object(f.a)(Ve,2),Re=Fe[0],We=Fe[1],Me=Object(n.useState)(0),Ke=Object(f.a)(Me,2),Ge=Ke[0],Je=Ke[1],qe=Object(n.useState)([]),Ze=Object(f.a)(qe,2),Qe=Ze[0],Xe=Ze[1],$e=Object(n.useState)(!0),et=Object(f.a)($e,2),tt=et[0],at=et[1],nt=Object(n.useState)(!1),ct=Object(f.a)(nt,2),rt=ct[0],it=ct[1],ot=Object(n.useState)(!1),lt=Object(f.a)(ot,2),st=lt[0],mt=lt[1],ut=Object(n.useState)(!1),dt=Object(f.a)(ut,2),ft=dt[0],bt=dt[1],pt=Object(H.a)((function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},clubHomeView:{paddingTop:20},forumLogo:{width:150,height:150},content:{width:.8*(be-240)},attend:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)",width:100},activityPaper:{padding:e.spacing(3,2)},going:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},goBackFab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},addMeetingBtn:{margin:0,top:"auto",right:20,bottom:80,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)",color:"black"}}}))(),gt=function(){g(!0)},Et=function(e){var t=[];t.push([]);for(var n=0,c=0,i=0;i<e.length&&11!==n;i+=1)4===c&&(n+=1,c=0,t.push([])),e[i].showOptions=!1,t[n][c]=e[i],c+=1;!function(e){for(var t=[],a=0;a<e.length;a+=1)t[a]=(a+1).toString();Xe(t)}(t),function(e,t){for(var n=[],c=0,i=function(e){n.push([]);for(var i=function(i){if(c>=t.length)return"break";n[e].push([]);var o=t[c].Poll_ID;c+=1;var l={Poll_ID:parseInt(o,10),User_ID:r};E()({url:"".concat(q,"/Homepage/get_poll_info"),method:"post",data:l,headers:{Authorization:"Token ".concat(a)}}).then((function(t){for(var a=0;a<t.data.length;a+=1)n[e][i][a]=t.data[a],n[e][i][a].Checked=0!==n[e][i][a].user_vote}))},o=0;o<4;o+=1){if("break"===i(o))break}D(!_)},o=0;o<e.length;o+=1)i(o);s({Polls:e,Options:n})}(t,e)},ht=function(t){var n={BookClub_ID:parseInt(e,10)};E()({url:"".concat(q,"/Homepage/get_").concat(t,"_polls"),method:"post",data:n,headers:{Authorization:"Token ".concat(a)}}).then((function(e){Et(e.data)}))};Object(n.useEffect)((function(){function t(){ge(window.innerWidth)}return Ie(e,r,a,mt),ht("current"),window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]);var vt=function(){var e=z;e.push(te),L(e),ae(""),D(!_)},jt=function(e,t){var n={Poll_ID:e.Poll_ID,Choice_ID:t.Choice_ID,User_ID:r};E()({url:"".concat(q,"/Homepage/vote_poll"),method:"post",data:n,headers:{Authorization:"Token ".concat(a)}}).then((function(){ht("current")}))},Ot=function(){ke(!1),Z(""),ae(""),le(new Date),L([])},xt=function(){var e=Object($.a)(Y.a.mark((function e(t,n){var c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={User_ID:parseInt(r,10),Poll_ID:t},e.next=3,E()({url:"".concat(q,"/Homepage/delete_poll"),method:"post",data:c,headers:{Authorization:"Token ".concat(a)}});case 3:return e.next=5,ht(n);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:pt.clubHomeView},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:10,className:pt.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:1,className:pt.content},c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:pt.fab,onClick:function(){Ae(!0)}},c.a.createElement(ue.a,{className:pt.extendedIcon}),"Home")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:pt.fab,onClick:function(){Ue(!0)}},c.a.createElement(fe.a,{className:pt.extendedIcon}),"Discussion")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:pt.fab,style:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}},c.a.createElement(pe.a,{className:pt.extendedIcon}),"Poll")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:pt.fab,onClick:function(){We(!0)}},c.a.createElement(Ee.a,{className:pt.extendedIcon}),"Meeting")),st?c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:pt.fab,onClick:function(){bt(!0)}},c.a.createElement(ve.a,{className:pt.extendedIcon}),"Admin")):c.a.createElement(c.a.Fragment,null),c.a.createElement(A.a,{item:!0,style:{marginTop:30}},c.a.createElement(ee.a,{className:pt.content})))),c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"flex-end",spacing:"15vh"},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:pt.fab,onClick:function(){D(!_),it(!1),ht("current"),Je(0),at(!0)},style:tt?{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}:{color:"default"}},c.a.createElement(ye.a,{className:pt.extendedIcon}),"View Current Polls"),c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:pt.fab,onClick:function(){at(!1),ht("past"),Je(0),it(!0)},style:rt?{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}:{color:"default"}},c.a.createElement(we.a,{className:pt.extendedIcon}),"View Previous Polls")),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",spacing:3},tt||rt?c.a.createElement(A.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",spacing:3},c.a.createElement(A.a,{item:!0},tt?c.a.createElement(j.a,{variant:"h3"},"Active Polls"):c.a.createElement(j.a,{variant:"h3"},"Previous Polls")),l.Polls[Ge].map((function(e,t){return c.a.createElement(A.a,{item:!0,className:pt.content},c.a.createElement(ce.a,{className:pt.activityPaper},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"flex-start"},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"space-between",alignItems:"flex-start",spacing:1},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h5"},e.Title)),c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"subtitle1"},tt?"Ends on ".concat(e.End_Time):"Ended on ".concat(e.End_Time))),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start"},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:10},c.a.createElement(A.a,{item:!0},0!==l.Options[Ge].length&&e.showOptions?l.Options[Ge][t].map((function(e,a){return c.a.createElement(A.a,{item:!0},tt?c.a.createElement(A.a,{item:!0},c.a.createElement(Ye.a,{checked:e.Checked,value:[t,a],onClick:function(){return function(e){e.Checked=!e.Checked,D(!_)}(e)},color:"primary",inputProps:{"aria-label":"secondary checkbox"}}),c.a.createElement(j.a,{variant:"p"},e.Description)):c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"p"},"".concat(e.Description,": ").concat(e.vote_count," votes"))))})):c.a.createElement("div",null)),c.a.createElement(A.a,{item:!0},e.showOptions&&tt?c.a.createElement(K.a,{variant:"extended",onClick:function(){return function(e,t){var n={User_ID:r,Poll_ID:e.Poll_ID};E()({url:"".concat(q,"/Homepage/delete_vote"),method:"post",data:n,headers:{Authorization:"Token ".concat(a)}}).then((function(){for(var a=!0,n=0;n<t.length;n+=1)t[n].Checked&&(a=!1,jt(e,t[n]));a&&ht("current")}))}(e,l.Options[Ge][t])},style:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}},c.a.createElement(J.a,{className:pt.extendedIcon}),"Vote!"):c.a.createElement("div",null)))),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"outlined",size:"small",onClick:function(){return function(e){e.showOptions=!e.showOptions,D(!_)}(e)}},tt?e.showOptions?"Hide Options":"Show Options":e.showOptions?"Hide Results":"Show Results")))))),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{item:!0},st?c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:pt.fab,onClick:function(){return xt(e.Poll_ID,tt?"current":"past")}},c.a.createElement(De.a,{className:pt.extendedIcon}),"Remove"):c.a.createElement("div",null))))))}))):c.a.createElement("div",null))),c.a.createElement(A.a,{container:!0,direction:"row",alignItems:"flex-start",justify:"center",spacing:3},Qe.map((function(e,t){return c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:Ge===t?"primary":"default",onClick:function(){return function(e){Je(e)}(t)}},e))}))))),c.a.createElement(K.a,{variant:"extended","aria-label":"Go Back",className:pt.goBackFab,onClick:function(){_e(!0)}},c.a.createElement(Oe.a,{className:pt.extendedIcon}),"Dashboard"),st?c.a.createElement(K.a,{color:"primary","aria-label":"add",className:pt.addMeetingBtn,onClick:function(){ke(!0)}},c.a.createElement(ie.a,null)):c.a.createElement("div",null),c.a.createElement(V.a,{open:xe,onClose:Ot},c.a.createElement(M.a,null,"New Poll"),c.a.createElement(R.a,{style:{width:800}},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"flex-start",spacing:1},c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{margin:"dense",label:"Title",type:"text",value:G,onChange:function(e){Z(e.target.value)},fullWidth:!0,style:{width:550}})),c.a.createElement(B.a,{id:"date",label:"End Date",type:"date",defaultValue:"2019-10-22",value:oe,onChange:function(e){le(e.target.value)},InputLabelProps:{shrink:!0},style:{width:550}}),c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{margin:"dense",label:"Option",type:"text",value:te,onChange:function(e){ae(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&vt()},fullWidth:!0,style:{width:550}})),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:vt,className:pt.margin},c.a.createElement(ie.a,{fontSize:"inherit"}))),c.a.createElement(A.a,{item:!0},z.map((function(e,t){return c.a.createElement(j.a,null,"".concat(t,". ").concat(e))}))))),c.a.createElement(F.a,null,c.a.createElement(y.a,{onClick:Ot,color:"primary"},"Cancel"),c.a.createElement(y.a,{onClick:function(){if(""!==G)if("object"!==typeof oe)if(z.length<2)gt();else{var t;for(t=0;t<z.length;t+=1)if(""===z[t])return void N(!0);var n=oe.split("-").reverse().join("-"),c={BookClub_ID:parseInt(e,10),User_ID:r,Time:"".concat(n," 00:00:00"),Title:G,Choices:z};E()({url:"".concat(q,"/Homepage/create_poll"),method:"post",data:c,headers:{Authorization:"Token ".concat(a)}}).then((function(){ht("current"),at(!0),it(!1)})),Ot()}else x(!0);else gt()},color:"primary"},"Post"))),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:b,onClose:function(){g(!1)},message:c.a.createElement("span",null,"Empty Title or Less than 2 choices!")}),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:O,onClose:function(){x(!1)},message:c.a.createElement("span",null,"Please enter a date!")}),c.a.createElement(se.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:I,onClose:function(){N(!1)},message:c.a.createElement("span",null,"Please do not enter empty choice!")}),Ce?c.a.createElement(p.a,{to:"/dashboard"}):c.a.createElement("div",null),ze?c.a.createElement(p.a,{to:"/club/".concat(e)}):c.a.createElement("div",null),Le?c.a.createElement(p.a,{to:"/club/".concat(e,"/discussion")}):c.a.createElement("div",null),Re?c.a.createElement(p.a,{to:"/club/".concat(e,"/meeting")}):c.a.createElement("div",null),ft&&st?c.a.createElement(p.a,{to:"/club/".concat(e,"/admin")}):c.a.createElement("div",null))},et=a(264),tt=a(263);var at=function(e){var t=Object(p.g)().clubId,a=Object(n.useContext)(d),r=a.token,i=a.userId,o=Object(n.useState)(window.innerWidth),l=Object(f.a)(o,2),s=l[0],m=l[1],u=Object(n.useState)(!1),b=Object(f.a)(u,2),g=b[0],h=b[1],v=Object(n.useState)(!1),O=Object(f.a)(v,2),x=O[0],w=O[1],k=Object(n.useState)(!1),I=Object(f.a)(k,2),N=I[0],S=I[1],C=Object(n.useState)(!1),_=Object(f.a)(C,2),D=_[0],T=_[1],P=Object(n.useState)(!1),z=Object(f.a)(P,2),G=z[0],J=z[1],Z=Object(n.useState)(!1),Q=Object(f.a)(Z,2),X=Q[0],Y=Q[1],$=Object(n.useState)(!1),te=Object(f.a)($,2),ae=te[0],ne=te[1],ce=Object(n.useState)(!1),re=Object(f.a)(ce,2),ie=re[0],oe=re[1],le=Object(n.useState)(!0),se=Object(f.a)(le,2),me=se[0],de=se[1],be=Object(n.useState)(!0),ge=Object(f.a)(be,2),he=(ge[0],ge[1]),je=Object(n.useState)(""),xe=Object(f.a)(je,2),we=xe[0],ke=xe[1],ye=Object(n.useState)("https://fun-group-bucket.s3-ap-southeast-2.amazonaws.com/blank-profile-picture.png"),Ne=Object(f.a)(ye,2),Se=Ne[0],Ce=Ne[1],_e=Object(H.a)((function(e){return{fab:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},clubHomeView:{paddingTop:20},forumLogo:{width:150,height:150},content:{width:.8*(s-240)},activityPaper:{padding:e.spacing(3,2),background:"#DCDCDC","&:hover":{background:"linear-gradient(45deg, #ff9190 0%, #fdc094 100%)"}},button:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},delButton:{marginBottom:40},goBackFab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed",background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"},profilePic:{margin:12,width:150,height:150}}}))();Object(n.useEffect)((function(){function e(){m(window.innerWidth)}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]);var De=function(){var a={BookClub_ID:parseInt(t,10)};E()({url:"".concat(q,"/Homepage/get_single_bookclub"),method:"post",data:a,headers:{Authorization:"Token ".concat(r)}}).then((function(t){e.setViewName(t.data.Name),Ce(t.data.Profile_Pic),de(t.data.Open)}))};Object(n.useEffect)((function(){Ie(t,i,r,he),De()}),[]);var Te=function(){h(!0)},Pe=function(){Y(!0)},ze=function(){Y(!1)},Ae=function(){ne(!1)};return c.a.createElement("div",{className:_e.clubHomeView},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:10,className:_e.content},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",spacing:5,className:_e.content},c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:_e.fab,onClick:function(){w(!0)}},c.a.createElement(ue.a,{className:_e.extendedIcon}),"Home")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:_e.fab,onClick:function(){J(!0)}},c.a.createElement(fe.a,{className:_e.extendedIcon}),"Discussion")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:_e.fab,onClick:function(){S(!0)}},c.a.createElement(pe.a,{className:_e.extendedIcon}),"Poll")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:_e.fab,onClick:function(){T(!0)}},c.a.createElement(Ee.a,{className:_e.extendedIcon}),"Meeting")),c.a.createElement(A.a,{item:!0},c.a.createElement(K.a,{variant:"extended","aria-label":"delete",className:_e.fab,style:{background:"linear-gradient(45deg, #ffe5d8 0%, #ffcad4 100%)",boxShadow:"0 3px 7px 1px rgba(255, 212, 213, .3)"}},c.a.createElement(ve.a,{className:_e.extendedIcon}),"Admin")))),c.a.createElement(ee.a,{className:_e.content}),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{continer:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:4},c.a.createElement(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:3,className:_e.content},c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h3"},"Admin settings"))),c.a.createElement(L.a,{className:_e.card,style:{marginTop:30}},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center",spacing:2,className:_e.content,style:{paddingTop:30}},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:8,className:_e.content},c.a.createElement(A.a,{item:!0},c.a.createElement(U.a,{alt:"profile pic",src:Se,className:_e.profilePic})),c.a.createElement(A.a,{item:!0,spacing:4},c.a.createElement("label",{htmlFor:"raised-button-file"},c.a.createElement("input",{accept:"image/*",className:_e.input,style:{display:"none"},id:"raised-button-file",type:"file",multiple:!1,onChange:function(e){var t=e.target,a=new FileReader,n=t.files[0];a.onload=function(e){Ce(e.target.result)},a.readAsDataURL(n)}}),c.a.createElement(y.a,{variant:"raised",component:"span",className:_e.button},"Upload profile picture")),c.a.createElement("p",{style:{marginLeft:"1vh"}},"Support file type: jpg, jpeg, png"),c.a.createElement(y.a,{onClick:function(){var e={Param_to_change:"Logo",New_value:Se,BookClub_ID:t,User_ID:i};E()({url:"".concat(q,"/Homepage/set_club"),method:"post",data:e,headers:{Authorization:"Token ".concat(r)}}).then((function(){Pe()}))},className:_e.button},"Confirm")))))),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},c.a.createElement(A.a,{item:!0},c.a.createElement(B.a,{label:"Club Name",value:we,onChange:function(e){ke(e.target.value)},margin:"normal",variant:"outlined"})),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",onClick:function(){var e={Param_to_change:"Name",New_value:we,BookClub_ID:t,User_ID:i};E()({url:"".concat(q,"/Homepage/set_club"),method:"post",data:e,headers:{Authorization:"Token ".concat(r)}}).then((function(){De(),Pe()}))},className:_e.button},"Update Club Name")))),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},c.a.createElement(A.a,{item:!0},c.a.createElement(tt.a,{control:c.a.createElement(et.a,{checked:me,onChange:function(){de(!me),oe(!ie)},color:"primary"}),label:"Open to new members"})),c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"contained",onClick:function(){var e={Param_to_change:"Open",New_value:me,BookClub_ID:t,User_ID:i};E()({url:"".concat(q,"/Homepage/set_club"),method:"post",data:e,headers:{Authorization:"Token ".concat(r)}}).then((function(){Pe()}))},className:_e.button},"Confirm")))),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:2},c.a.createElement(A.a,{item:!0},c.a.createElement(y.a,{variant:"outlined",onClick:function(){ne(!0)},className:_e.delButton,spacing:2},"DELETE")))))))),c.a.createElement(V.a,{open:X,onClose:ze},c.a.createElement(M.a,null,"Details Updated"),c.a.createElement(R.a,null,c.a.createElement(W.a,null,"We have updated your details.")),c.a.createElement(F.a,null,c.a.createElement(y.a,{onClick:ze,color:"primary",autoFocus:!0},"OK"))),c.a.createElement(V.a,{open:ae,onClose:Ae},c.a.createElement(M.a,null,"Are you sure?"),c.a.createElement(R.a,null,c.a.createElement(W.a,null,"This action can not be undone.")),c.a.createElement(F.a,null,c.a.createElement(y.a,{onClick:function(){var e={BookClub_ID:t,User_ID:i};E()({url:"".concat(q,"/Homepage/delete_book_club"),method:"post",data:e,headers:{Authorization:"Token ".concat(r)}}).then((function(){Te()}))},color:"primary",autoFocus:!0,style:{marginTop:"15vh"}},"DELETE"),c.a.createElement(y.a,{onClick:Ae,color:"primary",autoFocus:!0},"CANCEL")))),c.a.createElement(K.a,{variant:"extended","aria-label":"Go Back",className:_e.goBackFab,onClick:Te},c.a.createElement(Oe.a,{className:_e.extendedIcon}),"Dashboard"),G?c.a.createElement(p.a,{to:"/club/".concat(t,"/discussion")}):c.a.createElement("div",null),g?c.a.createElement(p.a,{to:"/dashboard"}):c.a.createElement("div",null),x?c.a.createElement(p.a,{to:"/club/".concat(t)}):c.a.createElement("div",null),N?c.a.createElement(p.a,{to:"/club/".concat(t,"/poll")}):c.a.createElement("div",null),D?c.a.createElement(p.a,{to:"/club/".concat(t,"/meeting")}):c.a.createElement("div",null))};var nt=function(){var e=Object(p.g)().clubId;return c.a.createElement(p.a,{to:"/club/".concat(e)})};var ct=function(){var e=Object(n.useContext)(d),t=e.token,a=e.toggleToken,r=e.loggedIn,i=e.setloggedIn,o=e.userId,l=Object(n.useState)(!1),s=Object(f.a)(l,2),m=s[0],u=s[1],g=Object(n.useState)(!1),N=Object(f.a)(g,2),D=N[0],P=N[1],H=Object(n.useState)(0),B=Object(f.a)(H,2),L=B[0],U=B[1],V=Object(n.useState)(0),F=Object(f.a)(V,2),R=F[0],W=F[1],M=Object(n.useState)([]),K=Object(f.a)(M,2),G=K[0],J=K[1],Z=Object(n.useState)(!1),X=Object(f.a)(Z,2),Y=X[0],$=X[1],ee=Object(n.useState)(""),te=Object(f.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)(!1),re=Object(f.a)(ce,2),ie=re[0],oe=re[1],le=function(){var e={id:parseInt(o,10)};E()({url:"".concat(q,"/Homepage/get_book_clubs"),method:"post",data:e,headers:{Authorization:"Token ".concat(t)}}).then((function(e){J(e.data)}))},se=function(){D?(P(!1),U(0),le()):(le(),P(!0),U(240))},me=function(e){i(e)},ue=function(){u(!1),$(!1)};return Object(n.useEffect)((function(){ue(),oe(!ie)}),[m,Y]),c.a.createElement("div",{className:"App"},c.a.createElement(x.a,null),c.a.createElement("div",{className:"DrawerWrapper"},r&&D?c.a.createElement("div",null,c.a.createElement(O.a,{variant:"permanent",anchor:"left"},c.a.createElement(j.a,{style:{width:L,height:56}}),c.a.createElement(w.a,{style:{width:L}},G.map((function(e,t){return c.a.createElement(k.a,{button:!0,key:e.Name,onClick:function(){return t=e.BookClub_ID,W(t),$(!0),void se();var t}},c.a.createElement(C.a,null,c.a.createElement(T.a,null)),c.a.createElement(_.a,{primary:e.Name}))}))))):c.a.createElement("div",null),c.a.createElement("div",{className:"AppBarWrapper"},c.a.createElement(h.a,{position:"fixed",style:{paddingLeft:L}},c.a.createElement(v.a,null,c.a.createElement(A.a,{container:!0,direction:"row",justify:"space-between",style:{width:"100%"}},c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center",spacing:2},c.a.createElement(A.a,{item:!0},c.a.createElement(I.a,{edge:"end",disabled:!r,onClick:se,color:"inherit","aria-label":"menu"},c.a.createElement(z.a,null))),c.a.createElement(A.a,{item:!0},c.a.createElement(j.a,{variant:"h6",noWrap:!0},ae)))),c.a.createElement(A.a,{item:!0},c.a.createElement(A.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",spacing:2},c.a.createElement(A.a,{item:!0},r?c.a.createElement("div",null,c.a.createElement(A.a,{item:!0},c.a.createElement(I.a,{color:"inherit",onClick:function(){u(!0)}},c.a.createElement(S.a,null)))):c.a.createElement("div",null)),c.a.createElement(A.a,{item:!0},r?c.a.createElement(y.a,{color:"inherit",onClick:function(){a("default token"),me(!1),U(0)}},"logout"):c.a.createElement("div",null))))))))),c.a.createElement("div",{className:"ViewWrapper",style:{marginLeft:L,marginTop:90}},c.a.createElement(b.a,null,r?c.a.createElement("div",null):c.a.createElement(p.a,{to:"/login/"}),m?c.a.createElement(p.a,{to:"/account_setting"}):c.a.createElement("div",null),Y?c.a.createElement(p.a,{to:"/redirect/".concat(R)}):c.a.createElement("div",null),c.a.createElement(p.d,null,c.a.createElement(p.b,{path:"/account_setting"},c.a.createElement(Q,{setLoginState:me,setViewName:ne,disableRedirect:ue})),c.a.createElement(p.b,{path:"/club/:clubId/poll"},c.a.createElement($e,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/club/:clubId/meeting"},c.a.createElement(Ne,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/club/:clubId/discussion/:discuzId/:threadTitle"},c.a.createElement(Te,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/club/:clubId/discussion"},c.a.createElement(Xe,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/club/:clubId/admin"},c.a.createElement(at,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/redirect/:clubId"},c.a.createElement(nt,null)),c.a.createElement(p.b,{path:"/club/:clubId"},c.a.createElement(Qe,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/login"},c.a.createElement(Ke,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/register"},c.a.createElement(He,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/dashboard"},c.a.createElement(Me,{setLoginState:me,setViewName:ne})),c.a.createElement(p.b,{path:"/"},c.a.createElement(Me,{setLoginState:me,setViewName:ne}))))))},rt=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).toggleToken=function(e){a.setState((function(t){return{token:e.token,userId:e.id}}))},a.setloggedIn=function(e){a.setState((function(t){return{loggedIn:e}}))},a.state={token:"default token",toggleToken:a.toggleToken,loggedIn:!1,userId:0,setloggedIn:a.setloggedIn},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement(d.Provider,{value:this.state},c.a.createElement(ct,null))}}]),t}(c.a.Component);a(201).config(),i.a.render(c.a.createElement(rt,null),document.getElementById("root"))},90:function(e,t,a){e.exports=a.p+"static/media/bookface.8734bc95.jpg"}},[[149,1,2]]]);
//# sourceMappingURL=main.1263c8e0.chunk.js.map